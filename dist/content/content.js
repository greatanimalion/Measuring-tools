var s=(t=>(t.close="closeMeasureTool",t.open="openMeasureTool",t))(s||{});const r={height:"300px",width:"270px"},f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAjJJREFUaEPtmd1VAjEQhTN0IFoAPkAdWInyKBShFiE+qpVgHfDgFqBbAvEE3J8smfxMZtA9Z3mE3eR+2eTOnQVUzz/Qc/1KDODqZTffa/16WCAN7+Vq+iixWCIAR/Fq0wjWhRQEO8Cp+ApDBoIVABcvB8EGEBYvA8ECEC+eHyIbIF18AwFaPX2vZm857pQNMF5vP5WCSVvECNSN7UJKgdYLDXC01fqji3I5u/5XAEb81/30Y7ze6bawcjmFy+ftXRfCfP+nAI0oXYwAFka8EeQCMN9j11Mhsuh9k2IAVKHYfQMAtjLDE4jca8Et1Pi8LlJ8m/oE2vPFBEAvgCtVxvo2FcCuK+EAiAJgFTbWt3kADs2EN4o7ATDxVZGK2Z5UAFex80GcAHCI9xWyGPgUCAuAS3wugF2x7ezUPdg1AD1Vxqwp5zW2G9YArlTJOS3vWE2KrQEu1rsNKDXnnUhqNAeA++BICcgbt+2G1iFOOf0hCVQbrcaNNZQTG+WCyAGIFW9gnYUMgzhvFrKfMVZE0SiBQZw3Cx0hfAnAG+ZyeljqFuraeSi+BOM0tYelAqTOFwQIuc3QkVFX6Pe+4Qn0fgthPSx2iKk9tth7IayHdQHk9NhnAmh6WAXqoT2p64Wv+T22xxYDQLNT5421S0CoSMUYFIsLUaI4h3g0zMWQd69JgeASzwpgBouB4BTPDhCC4BYvAoBBSIgXA6gg9gC3oPSk/c8N5Xz57mFxIW5RKeP1HuAHwGT8QByJd+kAAAAASUVORK5CYII=";class w{constructor(e,l){this.iFrame=null,this.targetOrigin="",this.iFrame=e,this.targetOrigin=l,window.addEventListener("message",this.handle,!1)}send(e){this.targetOrigin?this.iFrame.postMessage(e,this.targetOrigin):this.iFrame.postMessage(e,"*")}handle(e){e.data.source!="react-devtools-content-script"&&e.data.source!="react-devtools-bridge"&&console.log(e)}destroy(){window.removeEventListener("message",this.handle,!1)}}const o="inject-D"+Date.now().toString(),x=`
    .${o}{
    outline: 1px solid red;
    }
`,E=["top","left","width","height","border","color","backgroundColor","opacity","border-radius","box-shadow"];let A,d=null,a=!1,c=null,g=null,h=!1;const C=t=>{const e={tagName:""};return e.tagName=t.tagName.toLowerCase(),E.forEach(l=>{e[l]=getComputedStyle(t)[l]}),e.width=t.getClientRects()[0].width.toFixed(0)+"px",e.top=t.getClientRects()[0].top.toFixed(0)+"px",e.height=t.getClientRects()[0].height.toFixed(0)+"px",e.left=t.getClientRects()[0].left.toFixed(0)+"px",e},u=t=>{if(a&&c&&(c.style.top=t.clientY+"px",c.style.left=t.clientX+"px"),h)return;let e=document.elementFromPoint(t.clientX,t.clientY);e&&(e.tagName==="IFRAME"||e.id===o||e.id===o+"-")||e!==d&&(d&&d.classList.remove(o),d=e,e&&e.classList.add(o),g=e)},p=t=>{(window.event?t.keyCode:t.which)===81&&(h=!h,h?g&&A.send(C(g)):g=null)},y=t=>{s.open?window.addEventListener("mousemove",u):s.close&&window.removeEventListener("mousemove",u)},F=t=>{if(t==s.open){window.document.body.addEventListener("keydown",p);const e=document.querySelector(o)||window.document.createElement("style");e.className=o,e.innerHTML=x,window.document.head.appendChild(e)}else if(t==s.close){window.document.body.removeEventListener("keydown",p);const e=document.querySelector("."+o);e&&e.remove()}};let m=null;const v=t=>{if(t==s.open){const e=document.querySelector("#"+o)||document.createElement("iframe");e.id=o,e.style.cssText=`width: ${r.width};
                                       height: ${r.height};
                                       border: none;
                                       border-radius: 10px;
                                     `;const l=chrome.runtime.getURL("contentPage/index.html");e.src=l;let n=document.createElement("div");n.id=o,n.style.cssText=`position: fixed;
                             z-index: 1000000;
                             top: 10px;
                             left: 10px;
                             box-shadow: 0 0 10px #898989;
                             width: ${r.width};
                             height: ${r.height};
                             border-radius: 10px;`;let i=document.createElement("img");i.src=f,i.id=o+"-",i.style.cssText=`width: 20px;
                            height: 20px;
                            position: absolute;
                            top: -10px;
                            left: -10px;
                            cursor: grab;`,n.appendChild(i),n.appendChild(e),document.body.appendChild(n),c=n,i.onclick=()=>{a=!a,a?i.style.cursor="grabbing":i.style.cursor="grab"},A=new w(e.contentWindow),A.send("hello"),m=n}else t==s.close&&document.querySelector(`#${o}`)&&document.querySelector(`#${o}`).remove()};chrome.runtime.onMessage.addListener(t=>{if(t.type=="number"&&m){const e=(+t.info/100).toFixed(2).toString();m.style.opacity=e}else F(t.info),y(t.info),v(t.info)});
